\hypertarget{subscription__state_8hpp_source}{}\doxysection{subscription\+\_\+state.\+hpp}
\label{subscription__state_8hpp_source}\index{src/include/rpp/subscriptions/details/subscription\_state.hpp@{src/include/rpp/subscriptions/details/subscription\_state.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{//                  ReactivePlusPlus library}}
\DoxyCodeLine{2 \textcolor{comment}{//}}
\DoxyCodeLine{3 \textcolor{comment}{//          Copyright Aleksey Loginov 2022 -\/ present.}}
\DoxyCodeLine{4 \textcolor{comment}{// Distributed under the Boost Software License, Version 1.0.}}
\DoxyCodeLine{5 \textcolor{comment}{//    (See accompanying file LICENSE\_1\_0.txt or copy at}}
\DoxyCodeLine{6 \textcolor{comment}{//          https://www.boost.org/LICENSE\_1\_0.txt)}}
\DoxyCodeLine{7 \textcolor{comment}{//}}
\DoxyCodeLine{8 \textcolor{comment}{// Project home: https://github.com/victimsnino/ReactivePlusPlus}}
\DoxyCodeLine{9 \textcolor{comment}{//}}
\DoxyCodeLine{10 }
\DoxyCodeLine{11 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{12 }
\DoxyCodeLine{13 \textcolor{preprocessor}{\#include <atomic>}}
\DoxyCodeLine{14 }
\DoxyCodeLine{15 \textcolor{keyword}{namespace }rpp::details}
\DoxyCodeLine{16 \{}
\DoxyCodeLine{21 \textcolor{keyword}{class }\mbox{\hyperlink{classrpp_1_1details_1_1subscription__state}{subscription\_state}}}
\DoxyCodeLine{22 \{}
\DoxyCodeLine{23 \textcolor{keyword}{public}:}
\DoxyCodeLine{24     \mbox{\hyperlink{classrpp_1_1details_1_1subscription__state}{subscription\_state}}()          = \textcolor{keywordflow}{default};}
\DoxyCodeLine{25     \textcolor{keyword}{virtual} \mbox{\hyperlink{classrpp_1_1details_1_1subscription__state}{\string~subscription\_state}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{26 }
\DoxyCodeLine{27     \mbox{\hyperlink{classrpp_1_1details_1_1subscription__state}{subscription\_state}}(\textcolor{keyword}{const} \mbox{\hyperlink{classrpp_1_1details_1_1subscription__state}{subscription\_state}}\&)     = \textcolor{keyword}{delete};}
\DoxyCodeLine{28     \mbox{\hyperlink{classrpp_1_1details_1_1subscription__state}{subscription\_state}}(\mbox{\hyperlink{classrpp_1_1details_1_1subscription__state}{subscription\_state}}\&\&) \textcolor{keyword}{noexcept} = \textcolor{keyword}{delete};}
\DoxyCodeLine{29 }
\DoxyCodeLine{30     [[nodiscard]] \textcolor{keywordtype}{bool} is\_subscribed()\textcolor{keyword}{ const}}
\DoxyCodeLine{31 \textcolor{keyword}{    }\{}
\DoxyCodeLine{32         \textcolor{keywordflow}{return} m\_is\_subscribed.load();}
\DoxyCodeLine{33     \}}
\DoxyCodeLine{34 }
\DoxyCodeLine{35     \textcolor{keywordtype}{void} unsubscribe()}
\DoxyCodeLine{36     \{}
\DoxyCodeLine{37         \textcolor{keywordflow}{if} (m\_is\_subscribed.exchange(\textcolor{keyword}{false}))}
\DoxyCodeLine{38             \mbox{\hyperlink{classrpp_1_1details_1_1subscription__state_acf1b3cfd8da3fa473aaed0df6e18d86a}{on\_unsubscribe}}();}
\DoxyCodeLine{39     \}}
\DoxyCodeLine{40 }
\DoxyCodeLine{41 \textcolor{keyword}{protected}:}
\DoxyCodeLine{45     \textcolor{keyword}{virtual} \textcolor{keywordtype}{void} \mbox{\hyperlink{classrpp_1_1details_1_1subscription__state_acf1b3cfd8da3fa473aaed0df6e18d86a}{on\_unsubscribe}}() \{\}}
\DoxyCodeLine{46 }
\DoxyCodeLine{47 \textcolor{keyword}{private}:}
\DoxyCodeLine{48     std::atomic\_bool m\_is\_subscribed\{\textcolor{keyword}{true}\};}
\DoxyCodeLine{49 \};}
\DoxyCodeLine{50 \} \textcolor{comment}{// namespace rpp::details}}

\end{DoxyCode}
